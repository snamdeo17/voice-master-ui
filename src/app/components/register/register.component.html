<section class="">
    <div class="container" *ngIf="!registerOpen">
        <div class="row ">
            <div class="col-md-4 d-none d-md-block py-5 text-white text-center form-bg-left">
                <div class=" ">
                    <div class="card-body">
                        <img src="http://www.ansonika.com/mavia/img/registration_bg.svg" style="width:30%">
                        <h2 class="py-3">Registration</h2>
                        <p>Register new member</p>
                    </div>
                </div>
            </div>
            <div class="col-md-8 py-5 border">
                <h4 class="pb-4">Please fill with your details</h4>
                <form (ngSubmit)="registerUser()" #f="ngForm">
                <div id="userData" ngModelGroup="userData" #userData="ngModelGroup">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <input placeholder="First name" class="form-control" type="text" id="firstName" name="firstName" ngModel #firstName="ngModel" required />
                            <p *ngIf="!firstName.valid && firstName.touched" class="text-danger">
                                Please enter a valid first name!
                            </p>
                        </div>
                        <div class="form-group col-md-6">
                            <input placeholder="Last name" class="form-control" type="text" id="lastName" name="lastName" ngModel #lastName="ngModel" required />
                            <p *ngIf="!lastName.valid && lastName.touched" class="text-danger">
                                Please enter a valid last name!
                            </p>
                        </div>
                      </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <input placeholder="Email" class="form-control" type="text" id="email" name="email" ngModel #email="ngModel" email required />
                            <p *ngIf="!email.valid && email.touched" class="text-danger">
                                Please enter a valid email!
                            </p>
                        </div>
                        <div class="form-group col-md-6">
                        <input placeholder="Secret code" class="form-control" type="text" id="secret" name="secret" ngModel #secret="ngModel" required />
                        <p *ngIf="!secret.valid && secret.touched" class="text-danger">
                            Please enter a valid last secret!
                        </p>
                        </div>
                        <div class="form-group col-md-12">
                            <input placeholder="Enter phrase" class="form-control" type="text" id="phrase" name="phrase" ngModel #phrase="ngModel"
                            required />
                            <p *ngIf="!phrase.valid && phrase.touched" class="text-danger">
                                Please enter a valid phrase!
                            </p>
                        </div>
                    </div>
                    <div class="form-row">
                        
                            <div class="form-group col-md-5" *ngIf="!registerOpen">
                                <button [disabled]="!userData.valid || !registerSuccess" id="start-record"
                            class="btn btn-primary" *ngIf="!isRecording" (click)="startRecording()">
                            Start Recording
                        </button>
                        <button id="stop-record" class="btn btn-primary" *ngIf="isRecording" (click)="stopRecording()">
                            Stop Recording
                        </button>
                                <p style="font-family: monospace">{{ recordTimer }}</p>
                                 <!-- <ng-template [ngIf]="blobUrl">
                                <audio [src]="blobUrl" controls></audio>
                            </ng-template>  -->
                                <p *ngFor=" let sample of voiceSamples "> {{sample}}</p>
                                <ng-template id="samples " *ngFor="let voice of voiceSamples; let i=index ">
                                    <p> voiceSamples :: {{ voice }}</p>
                                </ng-template>
                            </div>
                            <div class="form-group col-md-5">
                                <button [disabled]="!userData.valid || registerSuccess" id="register"  type="submit" class="btn btn-primary">
                                    Register
                                </button>
                                <button id="cancel" type="button" class="btn btn-primary" (click)="onCancel()">
                                    Cancel
                                </button>
                            </div>
                    </div>
                </div>
                </form>
            </div>
        </div>
    </div>
</section>